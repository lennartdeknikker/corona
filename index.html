<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corona Counter</title>
    <link rel="stylesheet" href="styling.css">
  </head>
  <body>
    <div class="container">
      <div class="item">
        <h2>DEATHS</h2>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300">
          <title>icon</title>
          <polygon points="221 95 164 95 164 37 136 37 136 95 79 95 79 123 136 123 136 263 164 263 164 123 221 123 221 95"/>
        </svg>        
        <h3 id="deaths"></h3>
      </div>
      <div class="item">
        <h2>SICK</h2>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300">
          <title>icon</title>
          <g>
            <path d="M53,157.8c.1-53.7,44.2-97.7,97.5-97.3s97,43.9,97.1,97.3-44,97.6-97.7,97.3S52.9,211.3,53,157.8Zm120.2-26.3c-2.8,6-2.4,11.3,1.1,16.2,4.7,6.5,11.4,9.5,19.3,10,5.9.3,11.7-.2,17-4.3ZM89.8,153.4c9.1,6.3,23.3,5.7,32-1.1s9.1-12.4,5.6-20.7Zm36,59.3c16.8-12.7,33.5-12.5,50.5.3-2.6-9.8-14.3-17.6-25.6-17.1S128,201.8,125.8,212.7Zm75.1-45h-2.1c-1.8,4.1-3.7,8-5.1,12.2-.9,2.7.1,5.2,2.7,6.8a6.3,6.3,0,0,0,7.4-.3c2.5-1.8,3.3-4.3,2.3-6.9S202.6,171.6,200.9,167.7Z"/>
            <path d="M266.3,115.6V98.4H248.6V82.5h17.6V64.8h16V82.2h17.6V98.1H282.6v17.5Z"/>
          </g>
        </svg>        
        <h3 id="sick"></h3>
      </div>
      <div class="item">
        <h2>RECOVERED</h2>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300">
          <title>icon</title>
          <g>
            <path d="M254.4,148.7c-28.2-22.9-63.7-15.3-82.8,3.6s-26.9,56.3-2.4,85c-5,5.2-9.9,10.6-15.2,15.6-3.1,2.9-8.5,2.7-11.9.1a30.8,30.8,0,0,1-2.6-2.4L53.8,164.9c-12.3-12.4-18.7-27.4-18.6-44.8.2-30.4,21.9-54.9,52.1-58.9,19.7-2.6,36.6,3.5,50.8,17.1,3.3,3.2,6.3,6.7,9.4,10.1,4.7-4.4,8.7-8.5,12.9-12.2,28.8-25.3,71.1-19.3,91.8,12.9C263.4,106.6,264.4,132.3,254.4,148.7Z"/>
            <path d="M215.1,242.5c-26.4.1-46.9-20.3-47-46.6a46.7,46.7,0,0,1,47-46.8c25.7.1,46.4,21,46.6,47A46.4,46.4,0,0,1,215.1,242.5Zm-7.7-20.9h15.4V203.4h17.7V188.1H222.6V170.2H207v18H189.2v15.4h18.2Z"/>
          </g>
        </svg>            
      <h3 id="recovered"></h3>
    </div>
      
    </div>
    
    
  </body>
  <script>
    const timer = 0;
    async function getData() {
      const endpoint = 'https://thevirustracker.com/free-api?countryTotal='
      const country = 'NL'
      console.log(`getting data for ${country}`);
      const cases = await fetch(endpoint+country)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          return data
        });
      const deathsTextElement = document.getElementById('deaths');
      const sickTextElement = document.getElementById('sick');
      const recoveriesTextElement = document.getElementById('recovered');
      console.log(cases.countrydata[0]);
      deathsTextElement.innerText = cases.countrydata[0].total_deaths;
      sickTextElement.innerText = cases.countrydata[0].total_active_cases;
      recoveriesTextElement.innerText = cases.countrydata[0].total_recovered;
      clearInterval(timer);
      timer = setInterval(() => {
      getData();
    }, 10000);
    }

    getData();
  </script>
</html>
